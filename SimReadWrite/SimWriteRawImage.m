function SimWriteRawImage(filename,x,format, indian)% SimWriteRawImage(filename,x,[format],[indian])%% Write a RAW DATA format image written by IPLAB.% The raw image data is written as a series of signed% integers in row first order.  Format of integers% is determined by argument format, which may be% anything that is understood by fwrite.%% indian should be 0 for big, 1 for little%  % It is not clear that this routine is platform independent.%% 9/9/97    dhb	 Wrote it (again).% 12/17/98  dhb	 Simulator version. % 1/6/99    dhb  Transpose x on write, this is consistent with our%                read function.% 2/24/99   dhb  Pass format argument% 01/25/00  pxl  Added support for indian type% Copyright (c) 1999 David Brainard and Philippe Longere.   All rights reserved.% Set default formatif (nargin < 3 | isempty(format))	format = 'int16';endif (nargin <4)  indian =0;end% Open fileif (indian)  id = fopen(filename, 'w','l');else  id = fopen(filename, 'w','b');end% Read in the data.fwrite(id,x',format);% Close filefclose(id);