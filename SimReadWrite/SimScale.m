function [outputImage,minval,maxval]= SimScale(inputImage,minval,maxval)% [outputImage,minval,maxval] = SimScale(inputImage,[minval,maxval])%% Perform an affine scaling to put data in range [0-1].% Returns the scaled image, and the scaling parameters.%% inputImage can be a structure or just the image data.% outputImage has same format as input.%% If minval and maxval are not passed, they are determined% from the image.%% 6/xx/98  pxl  Wrote it.% 11/9/98 dhb  Allow passing of minval and maxval.% Copyright (c) 1999 David Brainard and Philippe Longere.   All rights reserved.if (isstruct(inputImage))  outputImage = inputImage;	if (nargin == 1)  	[minval,maxval] = MatMinMax(inputImage.images(:,:));	end  outputImage.images = (outputImage.images - minval) / (maxval-minval);else	if (nargin == 1)  	[minval,maxval] = MatMinMax(inputImage(:,:));	end  outputImage = (inputImage - minval) / (maxval-minval);end