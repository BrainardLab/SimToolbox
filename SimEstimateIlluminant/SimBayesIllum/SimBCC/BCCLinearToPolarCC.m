function [pol] = BCCLinearToPolarCC(cal,linear)% [pol] = BCCLinearToPolarCC([cal],linear)%% Converts from linear rectangular coordinates to polar% coordinates.%% Polar coordinates are defined as radius, azimuth, and elevation.%% 4/11/96   dhb  Wrote it.% 11/08/98  pxl  Changed names of functions% 4/21/99   dhb  Modify to do something reasonable if dimension of passed is > 3.% 2/10/07   dhb  Modify to call SensorToPolar.% Copyright (c) 1999 David Brainard and Philippe Longere.   All rights reserved.% Control whether we search in linear or polar coordinatesglobal POLARSEARCHif (POLARSEARCH == 0)	if (nargin == 1)		pol = cal;	else		pol = linear;	endelse	if (nargin == 1)		if (length(cal) > 3)			pol = [SensorToPolar(cal(1:3)) ; cal(4:end)];		else			pol = SensorToPolar(cal);		end	else		if (length(linear) > 3)			pol = [SensorToPolar(cal,linear(1:3)) ; linear(4:end)];		else			pol = SensorToPolar(cal,linear);		end	endend