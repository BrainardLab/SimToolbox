function [outputImage] = SimNoise(inputImage,outputCamera)% [outputImage] = SimNoise(inputImage,outputCamera)%% Adds noise to the image as part of the simulation chain.%% 6/30/98   pxl  Wrote it.% 10/30/98  dhb  Comments.% 1/13/99   dhb  Simplified for now, change input. % Gaussian noise% b = a + sqrt(variance)*randn(size(a)) + mean;switch (outputCamera.noise.type)  case 'gaussianIIDpercent',    mean = outputCamera.noise.mean;    variance = outputCamera.noise.variance;    [inputImage.images,minval,maxval] = SimScale(inputImage.images);    inputImage.images = ...	imnoise(inputImage.images,'gaussian',mean,variance);    inputImage.images = SimUnScale(inputImage.images,minval,maxval);  case 'gaussianIID',    mean = outputCamera.noise.mean;    variance = outputCamera.noise.variance;    inputImage.images = inputImage.images + sqrt(variance)*randn(size(inputImage.images)) + mean;  otherwise,endoutputImage = inputImage;